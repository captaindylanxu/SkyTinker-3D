# 新手教程设计说明 / Tutorial Design Documentation

## 🎯 设计目标 / Design Goals

解决原有教程系统的问题：
- ❌ **旧设计**: 教程卡片居中显示，完全挡住操作区域
- ✅ **新设计**: 教程卡片智能定位，不遮挡操作区域

---

## 🎨 新设计方案 / New Design Solution

### 1. 智能卡片定位 / Smart Card Positioning

教程卡片会根据当前高亮的元素位置，自动调整到最合适的位置：

#### 桌面端 (Desktop)

| 高亮位置 | 卡片位置 | 说明 |
|---------|---------|------|
| 底部工具栏 | 右上角 | 避免遮挡工具栏 |
| 顶部按钮 | 右下角 | 避免遮挡顶部按钮 |
| 中间画布 | 左侧 | 避免遮挡画布中心 |
| 无高亮 | 右侧中间 | 默认位置 |

#### 移动端 (Mobile)

- 所有情况下卡片都固定在**底部**
- 高亮区域在卡片上方，清晰可见
- 卡片宽度适配屏幕

### 2. 高亮系统 / Highlight System

#### 视觉效果
- ✨ **发光边框**: 金色边框 + 脉动动画
- 🎯 **双层边框**: 内外两层，增强视觉效果
- 💫 **呼吸效果**: 光晕强度周期性变化
- 🔓 **可交互**: 高亮区域允许用户点击操作

#### 遮罩效果
- 半透明黑色背景（60%透明度）
- 高亮区域完全可见可操作
- 不使用 box-shadow 镂空（避免性能问题）

### 3. 响应式设计 / Responsive Design

#### 桌面端 (≥768px)
```
┌─────────────────────────────────┐
│  [开始飞行] ← 高亮              │
│                                 │
│                    ┌──────────┐ │
│                    │ 教程卡片 │ │ ← 右下角
│                    │          │ │
│                    └──────────┘ │
│                                 │
│  [工具栏] ← 高亮                │
└─────────────────────────────────┘
```

#### 移动端 (<768px)
```
┌─────────────────┐
│  [开始飞行]     │ ← 高亮
│                 │
│                 │
│                 │
│  [工具栏]       │ ← 高亮
├─────────────────┤
│  教程卡片       │ ← 固定底部
└─────────────────┘
```

---

## 🔧 技术实现 / Technical Implementation

### CSS 类名系统

```css
.tutorial-card                    /* 基础样式 */
.tutorial-card.with-highlight     /* 有高亮时 */
.tutorial-card.highlight-bottom   /* 高亮在底部 → 卡片右上 */
.tutorial-card.highlight-top      /* 高亮在顶部 → 卡片右下 */
.tutorial-card.highlight-center   /* 高亮在中间 → 卡片左侧 */
```

### 动态类名逻辑

```javascript
const getCardPositionClass = () => {
  if (!currentStep.highlight) return '';
  
  // 工具栏或删除按钮 → 卡片移到右上角
  if (currentStep.highlight === '.toolbar' || 
      currentStep.highlight === '.delete-mode-btn') {
    return 'highlight-bottom';
  }
  
  // 开始飞行按钮 → 卡片移到右下角
  if (currentStep.highlight === '.toggle-button') {
    return 'highlight-top';
  }
  
  // 画布 → 卡片移到左侧
  if (currentStep.highlight === 'canvas') {
    return 'highlight-center';
  }
  
  return '';
};
```

---

## 📱 各步骤布局 / Step-by-Step Layout

### 步骤 1: 欢迎
- 无高亮
- 卡片位置: 右侧中间

### 步骤 2: 选择零件
- 高亮: 底部工具栏
- 卡片位置: 右上角
- 用户可以清楚看到并点击工具栏

### 步骤 3: 放置零件
- 高亮: 中间画布
- 卡片位置: 左侧
- 用户可以在画布上点击放置

### 步骤 4: 堆叠建造
- 高亮: 中间画布
- 卡片位置: 左侧
- 用户可以点击零件表面堆叠

### 步骤 5: 删除模式
- 高亮: 删除按钮（底部）
- 卡片位置: 右上角
- 用户可以清楚看到并点击删除按钮

### 步骤 6: 准备起飞
- 高亮: 开始飞行按钮（顶部）
- 卡片位置: 右下角
- 用户可以清楚看到并点击开始飞行

### 步骤 7: 控制飞行
- 无高亮
- 卡片位置: 右侧中间

### 步骤 8: 完成
- 无高亮
- 卡片位置: 右侧中间

---

## 🎯 用户体验优化 / UX Improvements

### 1. 视觉引导
- ✅ 金色高亮边框清晰指示操作区域
- ✅ 脉动动画吸引注意力
- ✅ 卡片不遮挡操作区域

### 2. 交互优化
- ✅ 高亮区域完全可点击
- ✅ 自动检测用户操作
- ✅ 鼓励性反馈动画

### 3. 性能优化
- ✅ 使用 CSS 动画（GPU 加速）
- ✅ 避免复杂的 box-shadow 镂空
- ✅ 最小化重绘和重排

### 4. 可访问性
- ✅ 清晰的文字说明
- ✅ 足够的对比度
- ✅ 可跳过教程

---

## 🔄 对比旧设计 / Comparison with Old Design

| 特性 | 旧设计 | 新设计 |
|-----|-------|-------|
| 卡片位置 | 居中固定 | 智能定位 |
| 遮挡问题 | ❌ 完全遮挡 | ✅ 不遮挡 |
| 高亮效果 | box-shadow 镂空 | 双层边框 + 动画 |
| 移动端 | 顶部/底部切换 | 固定底部 |
| 性能 | 一般 | 更好 |
| 用户体验 | 困惑 | 清晰 |

---

## 📊 测试清单 / Testing Checklist

### 桌面端测试
- [ ] 步骤2: 工具栏高亮，卡片在右上角
- [ ] 步骤3: 画布高亮，卡片在左侧
- [ ] 步骤5: 删除按钮高亮，卡片在右上角
- [ ] 步骤6: 开始飞行高亮，卡片在右下角
- [ ] 所有高亮区域可点击
- [ ] 卡片不遮挡操作区域

### 移动端测试
- [ ] 所有步骤卡片都在底部
- [ ] 高亮区域在卡片上方可见
- [ ] 触摸操作正常
- [ ] 文字大小合适

### 动画测试
- [ ] 高亮边框脉动动画流畅
- [ ] 卡片进入动画流畅
- [ ] 鼓励弹窗动画流畅
- [ ] 无卡顿

---

## 🎨 视觉规范 / Visual Specifications

### 颜色
- 主色: `#fbbf24` (金色)
- 背景: `#1a1a2e` → `#16213e` (渐变)
- 遮罩: `rgba(0, 0, 0, 0.6)`
- 文字: `#ffffff` (标题), `#cbd5e0` (正文)

### 尺寸
- 卡片宽度: 380px (桌面), 90% (移动)
- 卡片圆角: 20px
- 边框宽度: 2-3px
- 内边距: 24px (桌面), 20px (移动)

### 动画
- 脉动周期: 2s
- 进入动画: 0.4s ease
- 按钮悬停: 0.3s ease

---

## 💡 未来改进建议 / Future Improvements

1. **箭头指示器**: 添加从卡片指向高亮区域的箭头
2. **手势动画**: 显示点击/拖动的手势动画
3. **语音提示**: 添加可选的语音引导
4. **进度保存**: 记住用户在哪一步暂停
5. **个性化**: 根据用户行为调整教程节奏

---

**最后更新**: 2026-01-18  
**版本**: 2.0.0  
**状态**: ✅ 已优化 / Optimized
